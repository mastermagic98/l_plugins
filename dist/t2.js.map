{"version":3,"file":"t2.js","mappings":"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","sources":["webpack://lampa-plugins/webpack/bootstrap","webpack://lampa-plugins/webpack/runtime/define property getters","webpack://lampa-plugins/webpack/runtime/hasOwnProperty shorthand","webpack://lampa-plugins/webpack/runtime/make namespace object","webpack://lampa-plugins/./t2/utils.js","webpack://lampa-plugins/./t2/api.js","webpack://lampa-plugins/./t2/trailer.js","webpack://lampa-plugins/./t2/line.js","webpack://lampa-plugins/./t2/component.js","webpack://lampa-plugins/./t2/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export function debounce(func, wait) {\n    var timeout;\n    return function () {\n        var context = this, args = arguments;\n        clearTimeout(timeout);\n        timeout = setTimeout(function () {\n            func.apply(context, args);\n        }, wait);\n    };\n}\n\nexport function getFormattedDate(daysAgo) {\n    var today = new Date();\n    if (daysAgo) today.setDate(today.getDate() - daysAgo);\n    var year = today.getFullYear();\n    var month = String(today.getMonth() + 1).padStart(2, '0');\n    var day = String(today.getDate()).padStart(2, '0');\n    return year + '-' + month + '-' + day;\n}\n\nexport function formatDateToDDMMYYYY(dateStr) {\n    if (!dateStr) return '-';\n    var date = new Date(dateStr);\n    var day = String(date.getDate()).padStart(2, '0');\n    var month = String(date.getMonth() + 1).padStart(2, '0');\n    var year = date.getFullYear();\n    return day + '.' + month + '.' + year;\n}\n\nexport function getRegion() {\n    var lang = Lampa.Storage.get('language', 'ru');\n    return lang === 'uk' ? 'UA' : lang === 'ru' ? 'RU' : 'US';\n}\n\nexport function getInterfaceLanguage() {\n    return Lampa.Storage.get('language', 'ru');\n}\n\nexport function getPreferredLanguage() {\n    var lang = Lampa.Storage.get('language', 'ru');\n    if (lang === 'uk') {\n        return ['uk', 'en'];\n    } else if (lang === 'ru') {\n        return ['ru', 'en'];\n    } else {\n        return ['en'];\n    }\n}\n","import { getRegion, getInterfaceLanguage } from './utils.js';\n\nvar trailerCache = {};\nvar categoryCache = {};\nvar CACHE_TTL = 24 * 60 * 60 * 1000;\n\nfunction clearExpiredCache() {\n    console.log('Clearing expired cache'); // Діагностика\n    for (var key in trailerCache) {\n        if (trailerCache[key].timestamp && Date.now() - trailerCache[key].timestamp > CACHE_TTL) {\n            delete trailerCache[key];\n        }\n    }\n    for (var key in categoryCache) {\n        if (categoryCache[key].timestamp && Date.now() - categoryCache[key].timestamp > CACHE_TTL) {\n            delete categoryCache[key];\n            Lampa.Storage.set('trailer_category_cache_' + key, null);\n        }\n    }\n}\n\nsetInterval(clearExpiredCache, 3600 * 1000);\n\nfunction finalizeResults(json, status, results, type) {\n    console.log('finalizeResults called:', { json, type }); // Діагностика\n    if (!json.results) {\n        console.error('No results in JSON:', json);\n        status.append({}, {});\n        return;\n    }\n    var items = json.results.map(function (item) {\n        return {\n            id: item.id,\n            title: item.title || item.name,\n            poster_path: item.poster_path,\n            backdrop_path: item.backdrop_path,\n            vote_average: item.vote_average,\n            release_date: item.release_date || item.first_air_date,\n            original_title: item.original_title,\n            original_name: item.original_name,\n            name: item.name,\n            release_details: item.release_details || {}\n        };\n    });\n    results[type] = {\n        title: Lampa.Lang.translate('trailers_' + type),\n        results: items,\n        type: type\n    };\n    status.append({}, {});\n}\n\nvar Api = {\n    clear: function clear() {\n        trailerCache = {};\n        categoryCache = {};\n    },\n    videos: function videos(data, success, fail) {\n        if (!Lampa.TMDB) {\n            console.error('Lampa.TMDB is undefined');\n            fail();\n            return;\n        }\n        var key = data.id + '_' + (data.name ? 'tv' : 'movie');\n        if (trailerCache[key] && trailerCache[key].timestamp && Date.now() - trailerCache[key].timestamp < CACHE_TTL) {\n            success(trailerCache[key].data);\n        } else {\n            Lampa.TMDB.video(data.id, data.name ? 'tv' : 'movie', function (json) {\n                trailerCache[key] = {\n                    data: json,\n                    timestamp: Date.now()\n                };\n                success(json);\n            }, fail);\n        }\n    },\n    getLocalMoviesInTheaters: function getLocalMoviesInTheaters(status, results) {\n        console.log('getLocalMoviesInTheaters called'); // Діагностика\n        if (!Lampa.TMDB) {\n            console.error('Lampa.TMDB is undefined');\n            status.append({}, {});\n            return;\n        }\n        var key = 'in_theaters_' + getRegion();\n        if (categoryCache[key] && categoryCache[key].timestamp && Date.now() - categoryCache[key].timestamp < CACHE_TTL) {\n            finalizeResults(categoryCache[key].data, status, results, 'in_theaters');\n        } else {\n            var today = new Date();\n            var priorDate = new Date(new Date().setDate(today.getDate() - 30));\n            var dateString = priorDate.getFullYear() + '-' + (priorDate.getMonth() + 1).toString().padStart(2, '0') + '-' + priorDate.getDate().toString().padStart(2, '0');\n            Lampa.TMDB.api('discover/movie?region=' + getRegion() + '&language=' + getInterfaceLanguage() + '&sort_by=popularity.desc&release_date.gte=' + dateString + '&with_release_type=3|2', function (json) {\n                console.log('TMDB response:', json); // Діагностика\n                if (json.results) {\n                    var status = new Lampa.Status(json.results.length);\n                    status.onComplite = function () {\n                        finalizeResults(json, status, results, 'in_theaters');\n                    };\n                    json.results.forEach(function (item, i) {\n                        Lampa.TMDB.release(item.id, 'movie', function (release) {\n                            json.results[i].release_details = release;\n                            status.append(item.id, {});\n                        }, function () {\n                            status.append(item.id, {});\n                        });\n                    });\n                    categoryCache[key] = {\n                        data: json,\n                        timestamp: Date.now()\n                    };\n                    Lampa.Storage.set('trailer_category_cache_' + key, categoryCache[key]);\n                } else {\n                    console.error('No results for in_theaters');\n                    status.append({}, {});\n                }\n            }, function () {\n                console.error('TMDB request failed');\n                status.append({}, {});\n            });\n        }\n    },\n    // ... (інші методи без змін)\n};\n\nfunction main(status, results) {\n    console.log('main called:', { status, results }); // Діагностика\n    if (!Lampa.Status || !Lampa.TMDB) {\n        console.error('Lampa API unavailable:', { Status: Lampa.Status, TMDB: Lampa.TMDB });\n        return;\n    }\n    if (!(status instanceof Lampa.Status)) {\n        console.error('Invalid status object:', status);\n        return;\n    }\n    Api.getLocalMoviesInTheaters(status, results);\n    Api.getUpcomingMovies(status, results);\n    Api.getNewSeriesSeasons(status, results);\n    Api.getUpcomingSeries(status, results);\n    Api.getPopularTrailers(status, results);\n}\n\nexport { Api, main };\n","import { Api } from './api.js';\nimport { formatDateToDDMMYYYY, getRegion, getPreferredLanguage } from './utils.js';\n\nfunction Trailer(data, params) {\n    this.build = function () {\n        this.card = Lampa.Template.get('trailer', data);\n        this.img = this.card.find('img')[0];\n        this.is_youtube = params.type === 'rating';\n        this.rating = data.vote_average ? data.vote_average.toFixed(1) : '-';\n        this.trailer_lang = '';\n        this.release_date = '-';\n        if (!this.is_youtube) {\n            var create = ((data.release_date || data.first_air_date || '0000') + '').slice(0, 4);\n            var title = data.title || data.name || data.original_title || data.original_name;\n            this.card.find('.card__title').text(title);\n            this.card.find('.card__details').text(create + ' - ' + (data.original_title || data.original_name));\n            if (this.rating !== '-') {\n                this.card.find('.card__view').append('<div class=\"card__rating\">' + this.rating + '</div>');\n            } else {\n                this.card.find('.card__view').append('<div class=\"card__rating\">-</div>');\n            }\n            this.card.find('.card__view').append('<div class=\"card__trailer-lang\"></div>');\n            this.card.find('.card__view').append('<div class=\"card__release-date\"></div>');\n        } else {\n            this.card.find('.card__title').text(data.name);\n            this.card.find('.card__details').remove();\n        }\n    };\n\n    this.cardImgBackground = function (card_data) {\n        if (Lampa.Storage.field('background')) {\n            if (Lampa.Storage.get('background_type', 'complex') === 'poster' && window.innerWidth > 790) {\n                return card_data.backdrop_path ? Lampa.Api.img(card_data.backdrop_path, 'original') : this.is_youtube ? 'https://img.youtube.com/vi/' + data.id + '/hqdefault.jpg' : '';\n            }\n            return card_data.backdrop_path ? Lampa.Api.img(card_data.backdrop_path, 'w500') : this.is_youtube ? 'https://img.youtube.com/vi/' + data.id + '/hqdefault.jpg' : '';\n        }\n        return '';\n    };\n\n    this.image = function () {\n        var _this = this;\n        this.img.onload = function () {\n            _this.card.addClass('card--loaded');\n        };\n        this.img.onerror = function () {\n            _this.img.src = './img/img_broken.svg';\n        };\n    };\n\n    this.loadTrailerInfo = function () {\n        var _this = this;\n        if (!this.is_youtube && !this.trailer_lang) {\n            Api.videos(data, function (videos) {\n                var trailers = videos.results ? videos.results.filter(function (v) {\n                    return v.type === 'Trailer';\n                }) : [];\n                var preferredLangs = getPreferredLanguage();\n                var video = trailers.find(function (v) {\n                    return preferredLangs.includes(v.iso_639_1);\n                }) || trailers[0];\n                _this.trailer_lang = video ? video.iso_639_1 : '-';\n                if (_this.trailer_lang !== '-') {\n                    _this.card.find('.card__trailer-lang').text(_this.trailer_lang.toUpperCase());\n                } else {\n                    _this.card.find('.card__trailer-lang').text('-');\n                }\n                if (params.type === 'in_theaters' || params.type === 'upcoming_movies') {\n                    if (data.release_details && data.release_details.results) {\n                        var region = getRegion();\n                        var releaseInfo = data.release_details.results.find(function (r) {\n                            return r.iso_3166_1 === region;\n                        });\n                        if (releaseInfo && releaseInfo.release_dates && releaseInfo.release_dates.length) {\n                            var releaseDate = releaseInfo.release_dates[0].release_date;\n                            _this.release_date = formatDateToDDMMYYYY(releaseDate);\n                        } else if (data.release_date) {\n                            _this.release_date = formatDateToDDMMYYYY(data.release_date);\n                        }\n                    } else if (data.release_date) {\n                        _this.release_date = formatDateToDDMMYYYY(data.release_date);\n                    }\n                } else if (params.type === 'new_series_seasons' || params.type === 'upcoming_series') {\n                    if (data.release_details && data.release_details.first_air_date) {\n                        _this.release_date = formatDateToDDMMYYYY(data.release_details.first_air_date);\n                    }\n                }\n                _this.card.find('.card__release-date').text(_this.release_date);\n            }, function () {\n                _this.trailer_lang = '-';\n                _this.card.find('.card__trailer-lang').text('-');\n                _this.card.find('.card__release-date').text('-');\n            });\n        }\n    };\n\n    this.play = function (id) {\n        if (!id) {\n            Lampa.Noty.show(Lampa.Lang.translate('trailers_no_trailers'));\n            return;\n        }\n        try {\n            if (Lampa.Manifest.app_digital >= 183) {\n                var item = {\n                    title: Lampa.Utils.shortText(data.title || data.name, 50),\n                    id: id,\n                    youtube: true,\n                    url: 'https://www.youtube.com/watch?v=' + id,\n                    icon: '<img class=\"size-youtube\" src=\"https://img.youtube.com/vi/' + id + '/default.jpg\" />',\n                    template: 'selectbox_icon'\n                };\n                Lampa.Player.play(item);\n                Lampa.Player.playlist([item]);\n            } else {\n                Lampa.YouTube.play(id);\n            }\n        } catch (e) {\n            Lampa.Noty.show('Помилка відтворення трейлера: ' + e.message);\n        }\n    };\n\n    this.create = function () {\n        var _this2 = this;\n        this.build();\n        if (!this.is_youtube) {\n            Api.videos(data, function (videos) {\n                var trailers = videos.results ? videos.results.filter(function (v) {\n                    return v.type === 'Trailer';\n                }) : [];\n                if (trailers.length === 0) {\n                    _this2.card = null;\n                    return;\n                }\n                _this2.card.on('hover:focus', function (e, is_mouse) {\n                    Lampa.Background.change(_this2.cardImgBackground(data));\n                    _this2.onFocus(e.target, data, is_mouse);\n                    _this2.loadTrailerInfo();\n                }).on('hover:enter', function () {\n                    var preferredLangs = getPreferredLanguage();\n                    var video = trailers.find(function (v) {\n                        return preferredLangs.includes(v.iso_639_1);\n                    }) || trailers[0];\n                    if (video && video.key) {\n                        if (preferredLangs[0] === 'uk' && video.iso_639_1 !== 'uk' && video.iso_639_1 !== 'en') {\n                            Lampa.Noty.show(Lampa.Lang.translate('trailers_no_ua_trailer'));\n                        } else if (preferredLangs[0] === 'ru' && video.iso_639_1 !== 'ru' && video.iso_639_1 !== 'en') {\n                            Lampa.Noty.show(Lampa.Lang.translate('trailers_no_ru_trailer'));\n                        }\n                        _this2.play(video.key);\n                    } else {\n                        Lampa.Noty.show(Lampa.Lang.translate('trailers_no_trailers'));\n                    }\n                }).on('hover:long', function () {\n                    var items = [{\n                        title: Lampa.Lang.translate('trailers_view'),\n                        view: true\n                    }];\n                    Lampa.Loading.start(function () {\n                        Api.clear();\n                        Lampa.Loading.stop();\n                    });\n                    items.push({\n                        title: Lampa.Lang.translate('title_trailers'),\n                        separator: true\n                    });\n                    trailers.forEach(function (video) {\n                        if (video.key && getPreferredLanguage().includes(video.iso_639_1)) {\n                            items.push({\n                                title: video.name || 'Trailer',\n                                id: video.key,\n                                subtitle: video.iso_639_1\n                            });\n                        }\n                    });\n                    Lampa.Select.show({\n                        title: Lampa.Lang.translate('title_action'),\n                        items: items,\n                        onSelect: function onSelect(item) {\n                            Lampa.Controller.toggle('content');\n                            if (item.view) {\n                                Lampa.Activity.push({\n                                    url: '',\n                                    component: 'full',\n                                    id: data.id,\n                                    method: data.name ? 'tv' : 'movie',\n                                    card: data,\n                                    source: 'tmdb'\n                                });\n                            } else {\n                                _this2.play(item.id);\n                            }\n                        },\n                        onBack: function onBack() {\n                            Lampa.Controller.toggle('content');\n                        }\n                    });\n                });\n                _this2.image();\n                _this2.loadTrailerInfo();\n            }, function () {\n                _this2.card = null;\n            });\n        } else {\n            this.card.on('hover:focus', function (e, is_mouse) {\n                Lampa.Background.change(_this2.cardImgBackground(data));\n                _this2.onFocus(e.target, data, is_mouse);\n            }).on('hover:enter', function () {\n                _this2.play(data.id);\n            });\n            this.image();\n        }\n    };\n\n    this.destroy = function () {\n        if (this.img) {\n            this.img.onerror = null;\n            this.img.onload = null;\n            this.img.src = '';\n        }\n        if (this.card) {\n            this.card.remove();\n            this.card = null;\n        }\n        this.img = null;\n    };\n\n    this.visible = function () {\n        if (this.visibled || !this.card) return;\n        if (params.type === 'rating') {\n            this.img.src = 'https://img.youtube.com/vi/' + data.id + '/hqdefault.jpg';\n        } else if (data.backdrop_path) {\n            this.img.src = Lampa.Api.img(data.backdrop_path, 'w500');\n        } else if (data.poster_path) {\n            this.img.src = Lampa.Api.img(data.poster_path);\n        } else {\n            this.img.src = './img/img_broken.svg';\n        }\n        this.visibled = true;\n    };\n\n    this.render = function () {\n        return this.card || $('<div></div>');\n    };\n}\n\nexport { Trailer };\n","import { Trailer } from './trailer.js';\n\nfunction Line(data) {\n    console.log('Line constructor called'); // Діагностика\n    this.data = data;\n    this.cards = [];\n\n    this.create = function () {\n        console.log('Line.create called'); // Діагностика\n        this.cards = [];\n        this.data.results.forEach(item => {\n            const card = new Trailer(item, { type: this.data.type });\n            card.create();\n            this.cards.push(card);\n        });\n    };\n\n    this.render = function () {\n        console.log('Line.render called'); // Діагностика\n        const element = Lampa.Template.get('line', { title: this.data.title });\n        this.cards.forEach(card => {\n            const cardElement = card.render();\n            if (cardElement && cardElement.length) {\n                element.find('.line__cards').append(cardElement);\n            }\n        });\n        return element;\n    };\n\n    this.destroy = function () {\n        console.log('Line.destroy called'); // Діагностика\n        this.cards.forEach(card => {\n            card.destroy();\n        });\n        this.cards = [];\n    };\n\n    this.toggle = function () {\n        if (this.cards.length) {\n            Lampa.Controller.collectionSet(this.render());\n            Lampa.Controller.collectionFocus(this.cards[0].render()[0], this.render());\n        }\n    };\n\n    this.onDown = function () {};\n    this.onUp = function () {};\n    this.onBack = function () {};\n}\n\nexport { Line }; // Явний експорт\n","import { main } from './api.js';\nimport { Line } from './line.js';\n\nfunction Component(object) {\n    var scroll;\n    var items = [];\n    var active = 0;\n    var light;\n\n    this.create = function () {\n        console.log('Component.create called'); // Діагностика\n        try {\n            scroll = $('<div class=\"trailers scroll--h\"></div>');\n            var menu = [];\n            if (!Lampa.Platform.is('tizen')) {\n                menu.push({\n                    title: Lampa.Lang.translate('settings_reset'),\n                    subtitle: Lampa.Lang.translate('trailers_clear_cache'),\n                    clear: true\n                });\n            }\n            Lampa.Component.add('trailers', this);\n            this.build();\n        } catch (e) {\n            console.error('Error in Component.create:', e);\n            scroll.append('<div class=\"trailers__empty\">' + Lampa.Lang.translate('trailers_empty') + '</div>');\n        }\n    };\n\n    this.build = function () {\n        console.log('Component.build called'); // Діагностика\n        try {\n            if (!Lampa.Status) {\n                console.error('Lampa.Status is undefined');\n                scroll.append('<div class=\"trailers__empty\">' + Lampa.Lang.translate('trailers_empty') + '</div>');\n                return;\n            }\n            var status = new Lampa.Status(5);\n            var results = {};\n            status.onComplite = function () {\n                console.log('Status completed:', results); // Діагностика\n                var hasItems = false;\n                for (var i in results) {\n                    if (results[i].results && results[i].results.length) {\n                        this.append(results[i]);\n                        hasItems = true;\n                    }\n                }\n                if (!hasItems) {\n                    console.log('No items to display'); // Діагностика\n                    scroll.append('<div class=\"trailers__empty\">' + Lampa.Lang.translate('trailers_empty') + '</div>');\n                }\n                if (light) Lampa.Background.immediately('');\n                this.activity.loader(false);\n                this.activity.toggle();\n            }.bind(this);\n            main(status, results);\n        } catch (e) {\n            console.error('Error in Component.build:', e);\n            scroll.append('<div class=\"trailers__empty\">' + Lampa.Lang.translate('trailers_empty') + '</div>');\n        }\n    };\n\n    this.append = function (element) {\n        console.log('Component.append called:', element); // Діагностика\n        try {\n            var item = new Line(element);\n            item.create();\n            item.onDown = this.down.bind(this);\n            item.onUp = this.up.bind(this);\n            item.onBack = this.back.bind(this);\n            item.onToggle = function () {\n                active = items.indexOf(item);\n            };\n            item.wrap = $('<div></div>');\n            if (light) {\n                scroll.append(item.wrap);\n            } else {\n                scroll.append(item.render());\n            }\n            items.push(item);\n        } catch (e) {\n            console.error('Error in Component.append:', e);\n        }\n    };\n\n    this.down = function () { /* ... */ };\n    this.up = function () { /* ... */ };\n    this.back = function () { /* ... */ };\n    this.start = function () { /* ... */ };\n    this.activity = object.activity;\n    this.destroy = function () { /* ... */ };\n}\n\nexport { Component };\n","import { Component } from './component.js';\nimport { Api } from './api.js';\n\nfunction startPlugin() {\n    console.log('startPlugin called'); // Діагностика\n    if (typeof Lampa === 'undefined' || !Lampa.Status || !Lampa.TMDB) {\n        console.error('Lampa API not ready, retrying...');\n        setTimeout(startPlugin, 100); // Повторна спроба через 100 мс\n        return;\n    }\n    console.log('Lampa API ready:', Lampa.Status, Lampa.TMDB); // Діагностика\n    Lampa.Lang.add({\n        // ... (переклади)\n    });\n    Lampa.Plugin.add({\n        url: '',\n        title: Lampa.Lang.translate('title_trailers'),\n        icon: '<svg>...</svg>',\n        in_menu: true,\n        in_cub: true,\n        status: 1,\n        start: function () {\n            console.log('Plugin start triggered'); // Діагностика\n            Lampa.Activity.push({\n                url: '',\n                title: Lampa.Lang.translate('title_trailers'),\n                component: 'trailers',\n                page: 1\n            });\n        }\n    });\n    Lampa.Listener.follow('app', function (e) {\n        if (e.type == 'app_ready') {\n            Lampa.Template.add('trailers', '<div>...</div>');\n            Lampa.Template.add('trailer', '<div>...</div>');\n            Lampa.Template.add('line', '<div>...</div>');\n        }\n    });\n}\n\nstartPlugin();\n\nexport { startPlugin, Api, Component };\n"],"names":["debounce","func","wait","timeout","context","args","arguments","clearTimeout","setTimeout","apply","getFormattedDate","daysAgo","today","Date","setDate","getDate","year","getFullYear","month","String","getMonth","padStart","day","formatDateToDDMMYYYY","dateStr","date","getRegion","lang","Lampa","Storage","get","getInterfaceLanguage","getPreferredLanguage","trailerCache","categoryCache","CACHE_TTL","clearExpiredCache","console","log","key","timestamp","now","set","setInterval","finalizeResults","json","status","results","type","error","append","items","map","item","id","title","name","poster_path","backdrop_path","vote_average","release_date","first_air_date","original_title","original_name","release_details","Lang","translate","Api","clear","videos","data","success","fail","TMDB","video","getLocalMoviesInTheaters","priorDate","dateString","toString","api","Status","length","onComplite","forEach","i","release","main","getUpcomingMovies","getNewSeriesSeasons","getUpcomingSeries","getPopularTrailers","Trailer","params","build","card","Template","img","find","is_youtube","rating","toFixed","trailer_lang","create","slice","text","remove","cardImgBackground","card_data","field","window","innerWidth","image","_this","onload","addClass","onerror","src","loadTrailerInfo","trailers","filter","v","preferredLangs","includes","iso_639_1","toUpperCase","region","releaseInfo","r","iso_3166_1","release_dates","releaseDate","play","Noty","show","Manifest","app_digital","Utils","shortText","youtube","url","icon","template","Player","playlist","YouTube","e","message","_this2","on","is_mouse","Background","change","onFocus","target","view","Loading","start","stop","push","separator","subtitle","Select","onSelect","Controller","toggle","Activity","component","method","source","onBack","destroy","visible","visibled","render","$","Line","cards","element","cardElement","collectionSet","collectionFocus","onDown","onUp","Component","object","scroll","active","light","menu","Platform","is","add","hasItems","immediately","activity","loader","bind","down","up","back","onToggle","indexOf","wrap","startPlugin","Plugin","in_menu","in_cub","page","Listener","follow"],"sourceRoot":""}